{% extends "layouts/base.html" %} 

{% block content %}

  {% if alert %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <span>{{ alert.key | showAlert }}</span>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
    </div>
  {% endif %}

  <section class="mt-3">
    <h5>更改密码</h5>

    <form method="post" action="{{sitemap.password}}">
      <div class="form-group">
        <label for="oldPassword">当前密码</label>
        <input type="password"
          class="form-control"
          id="oldPassword"
          name="oldPassword"
          required>
    
        {% if errors.oldPassword %}
          <div class="form-errortext">{{errors.oldPassword}}</div>
        {% endif %}
      </div>
    
      <div class="form-group">
        <label for="password">新密码</label>
        <input type="password"
          class="form-control"
          id="password"
          name="password"
          required>
        <small class="form-text text-muted">最少8个字符，不能使用空格、表情符号</small>
    
        {% if errors.password %}
          <div class="form-errortext">{{errors.password}}</div>
        {% endif %}
      </div>
    
      <div class="form-group">
        <label for="confirmPassword">再次输入新密码</label>
        <input type="password"
          class="form-control"
          id="confirmPassword"
          name="confirmPassword"
          required>
    
        {% if errors.confirmPassword %}
          <div class="form-errortext">{{errors.confirmPassword}}</div>
        {% endif %}
      </div>
      
      <button type="submit" class="btn btn-primary">保存密码</button>
      <a href="{{sitemap.passwordReset}}" target="_blank">忘记密码？</a>
    </form>    
  </section>

{% endblock %}
