{% extends "layouts/base.html" %}

{% block main %}
<div class="row justify-content-center">
  <div class="col-md-7 col-lg-5 col-xl-4">
    <div class="mt-4">
    {% if not user %}
      <h4 class="text-center">登录FT中文网</h4>

      {% if errors.credentials %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <span>{{errors.credentials.message}}</span>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endif %}

      <form method="post">
        <div class="form-group">
          <label for="email">邮箱</label>
          <input class="form-control"
            id="email"
            type="email"
            name="credentials[email]"
            value="{{credentials.email}}"
            placeholder="电子邮箱"
            required>

          {% if errors.email %}
          <div class="form-errortext">{{errors.email.message}}</div>
          {% endif %}
        </div>

        <div class="form-group">
          <label for="password">密码</label>
          <input class="form-control"
            id="password"
            type="password"
            name="credentials[password]"
            placeholder="密码"
            required>

          {% if errors.password %}
          <div class="form-errortext">{{errors.password.message}}</div>
          {% endif %}
        </div>
        
        <div class="form-check clearfix">
          <input class="form-check-input"
            id="rememberMe"
            type="checkbox"
            name="rememberMe"
            value="true"
            checked>
          <label for="rememberMe">记住我</label>

          <a class="float-right" href="/password-reset">忘记密码?</a>
        </div>

        <button class="btn btn-block btn-primary" type="submit">登录</button>

      </form>
      <p class="text-center pt-3">还没有FT中文网账号?<a href="/signup?source=login">创建</a></p>
    {% else %}
      <h4>当前登录用户 {{user.name}}</h4>
    {% endif %}
    </div>
  </div>
</div>
<!-- <div class="row justify-content-center">
  <div class="col-md-7 col-lg-5 col-xl-4">
    <div class="mt-4">
      <h5>其他登录方式</h5>
      <ul>
        <li><a href="/login/wechat">微信</a></li>
        <li><a href="">微博</a></li>
      </ul>
    </div>
  </div>
</div> -->
{% endblock %}
